Requirement: Done previous lesson.

We want to provide resources for different site builders, but placing them all at the root level would clutter the main menu. Since a general WordPress resource makes sense at the top level, we’ll keep that there. The site builder resources, however, fit better under **Tools**—because builders like Gutenberg, Classic Editor, WPBakery, and Elementor Pro are added as themes or plugins, making them functionally “tools” rather than core features.


![[Pasted image 20250819002919.png]]

Add this code block inside the plugin class:
```

    /**
     * Add a submenu under Tools at admin sidebar
     */
    public function add_tools_submenu() {
        add_submenu_page(
            'tools.php',                                   // Parent slug
            __('Gutenberg Resources', 'wf-gutenberg-resources'), // Page title 
            __('Gutenberg Resources', 'wf-gutenberg-resources'), // Menu title
            'manage_options',                              // Capability
            'wf-gutenberg-resources',                      // Menu slug
            array($this, 'render_gutenberg_page')          // Callback
        );
    }

```

Add this to the plugin class' constructor:
```
add_action('admin_menu', array($this, 'add_tools_submenu'));
```


The main change is that we’re now using WordPress’s core function `add_submenu_page` instead of `add_menu_page`.

The `add_submenu_page` function takes two arguments:
1. The parent menu slug (in this case, `"tools.php"`).
2. The same arguments you’d normally pass to `add_menu_page`.

By pointing to `tools.php`, our custom page nests under the **Tools** menu rather than creating a new top-level item. WordPress uses these parent slugs (like `tools.php`, `options-general.php`, etc.) as anchors to group related pages—a convention dating back to earlier versions where these acted more like “index” pages. Today, they no longer display submenu items inside the page itself, but the grouping convention remains.

Let's define the renderer callback that got passed to `add_submenu_page` - `render_gutenberg_page` - define inside the class as a top level method:
```
    /**
     * Render the WordPress Gutenberg admin page
     */
    public function render_gutenberg_page() {
        ?>
        <div class="wrap">
            <h1><?php esc_html_e('Gutenberg Resources', 'wf-gutenberg-resources'); ?></h1>
            <p>Here are some helpful Gutenberg resources:</p>
            <ul>
                <li><a href="https://developer.wordpress.org/block-editor/" target="_blank">Block Editor Handbook</a></li>
                <li><a href="https://wordpress.org/gutenberg/" target="_blank">Gutenberg Plugin</a></li>
                <li><a href="https://developer.wordpress.org/block-editor/tutorials/" target="_blank">Block Editor Tutorials</a></li>
                <li><a href="https://developer.wordpress.org/block-editor/reference-guides/" target="_blank">Block Editor Reference</a></li>
                <li><a href="https://github.com/WordPress/gutenberg" target="_blank">Gutenberg GitHub Repository</a></li>
            </ul>
        </div>
        <?php
    }
```

---

## Exercise

Now change "tools.php" to "options-general.php". Refresh admin. The submenu item should be moved to under Settings:
![[Pasted image 20250819003254.png]]

With that Tool resource page opened, the URL looks like this:

```
https://../wp-admin/options-general.php?page=wf-gutenberg-resources
```

Here, `options-general.php` is the parent (index) page, and `page=wf-gutenberg-resources` identifies the submenu item that’s open. This PHP file with its URL query string mirrors WordPress’s organization: a parent index page linked to its nested child pages.

---

Make sure to set the menu item back to under Tools before continuing to the next lesson

Requirements: You're left off at [[2.1 Admin pages random quote - Hello Dolly]]

Currently the Hello Dolly random quote appears on all admin pages. Let's make it appear only when editing a page or post.

**1) Stop printing everywhere** — remove or comment out the original global hook:

```php
// add_action( 'admin_notices', 'hello_dolly' );
```

- And might as well disable `function dolly_css() {` that are the styles of the quote
- And might as well disable `add_action( 'admin_head', 'dolly_css' );` that renders the returned value of dolly_css so that the style block can be injected.



Your file edit could look like:
![[Pasted image 20250817204513.png]]


**2) Re-add loading the Hello Dolly quote, but it'll load conditionally for the Page editor screens:**

```php
add_action( 'current_screen', function( $screen ) {
	if ( ! $screen ) {
		return;
	}

	// Show only when adding or editing a Page (post_type=page)
	if ( $screen->post_type === 'page' && in_array( $screen->base, [ 'post', 'post-new' ], true ) ) {
		add_action( 'admin_notices', 'hello_dolly' );
		add_action( 'admin_head', 'dolly_css_for_editor' ); // scoped CSS (below)
	}
});
```

**3) Let it appear in the block editor** — add this function below the current_screen action:

```php
function dolly_css_for_editor() {
	echo "
	<style>
	#dolly { float:right; padding:5px 10px; margin:0; font-size:12px; line-height:1.6666; }
	.rtl #dolly { float:left; }
	@media screen and (max-width:782px) {
		#dolly, .rtl #dolly { float:none; padding-left:0; padding-right:0; }
	}
	</style>
	";
}
```


Now your file could look like:
![[Pasted image 20250817204625.png]]

---

## Testing

Now visit the Plugins page. The effect should be immediate. There shouldn't be any Hello Dolly quote at the top right. If that's not the case, deactivate and re-activate the plugin, and clear your cache.

Pages list doesn't show any quote at the top right:
![[Pasted image 20250817204859.png]]

But editing a page does show a quote at the top right:
![[Pasted image 20250817205106.png]]

